<%- include('particles/header.ejs') %>

<%- include('particles/navigation.ejs') %>
<div class="add_section">
    <form action="/store" method="post" enctype="multipart/form-data">
        <div class="form-group-image">
            <li class="form-group__label__image" for="image">image</li>
            <input type="file" id="image" name="image" accept="image/png, image/jpg, image/jpeg, image/webp" style="display: none;" onchange='document.getElementById("file-name").innerHTML = this.files[0].name; loadFile(event);'>
            <script>
            var loadFile = function(event) {
                var output = document.getElementById('output');
                output.src = URL.createObjectURL(event.target.files[0]);
                output.onload = function() {
                URL.revokeObjectURL(output.src) // free memory
                }
                var outputm = document.getElementById('outputM');
                outputm.src = URL.createObjectURL(event.target.files[0]);
                outputm.onload = function() {
                URL.revokeObjectURL(output.src) // free memory
                }
            };
            </script>
            <label for="image">
                <div class="form-group__input__image">
                    <span id="file-name" class="file-box" style="display:none;"></span>
                    <img style="max-width: 130px; max-height: 130px; top: 50%; transform: translateY(-50%); position: relative; filter: drop-shadow(0px 0px 4px rgba(0, 0, 0, 0.25));" id="output"></img>
                </div>
            </label>
            <button class="form-button" type="submit" name="upload"><li>Add</li></button>
        </div>

        <div class="form-group">
            <li class="form-group__label" for="title">Title</li>
            <input class="form-group__input" type="text" id="title" name="title" placeholder="Type Title">
        </div>
    
        <div class="form-group">
            <li class="form-group__label" for="title">Description</li>
            <input class="form-group__input" type="text" id="description" name="description"
            placeholder="Type Description">
        </div>

        <div class="form-group-image-mobile">
            <li class="form-group__label__image" for="image">image</li>
            <label for="image">
                <div class="form-group__input__image">
                    <span id="file-name" class="file-box" style="display:none;"></span>
                    <img style="max-width: 230px; max-height: 100px; top: 50%; transform: translateY(-50%); position: relative; filter: drop-shadow(0px 0px 4px rgba(0, 0, 0, 0.25));" id="outputM"></img>
                </div>
            </label>
            <button class="form-button" type="submit" name="upload"><li>Add</li></button>
        </div>
    </form>
</div>

<%- include('particles/footer.ejs') %>
